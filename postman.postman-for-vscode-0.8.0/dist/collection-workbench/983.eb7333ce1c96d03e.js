(self.webpackChunkcollection_workbench=self.webpackChunkcollection_workbench||[]).push([[983,4492,4489,995],{30983:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Fn});var i=n(40540),o=n.n(i),r=n(25892),a=n.n(r),s=n(58560),l=n(36306),c=n(35736),d=n(82196),u=n(64495),h=n(80429),p=n(27363),m=n(21219),g=n(60607),v=n(62932);const b="New Collection",f={noauth:[],apikey:[],bearer:[],basic:[],inherit:null,oauth2:[]};var x=n(50916);function y(){const e=ue();return[e.preRequestStore.content,e.setPreRequestScript]}function w(){const e=ue();return[e.testScriptStore.content,e.setTests]}var C=n(52322);const j=a().div.withConfig({displayName:"indicator-dot__Dot",componentId:"sc-2j0bxu-0"})(["display:inline-flex;width:calc(0.5 * var(--spacing-m));height:calc(0.5 * var(--spacing-m));margin-left:var(--spacing-xs);border-radius:calc(0.5 * var(--spacing-m));background-color:var(--base-color-success);&.error{background-color:var(--base-color-error);}"]),k=({isError:e=!1})=>(0,C.jsx)(j,{"aria-label":e?"tab with errors":"tab with active values",className:e?"error":"","data-testid":"tab-indicator-dot"}),S=(0,x.observer)((({type:e="prerequest",title:t})=>{const[n]=y(),[i]=w(),o="test"===e?!!i:!!n;return(0,C.jsxs)(C.Fragment,{children:[t,o&&(0,C.jsx)(k,{})]})})),_=(0,i.lazy)((()=>n.e(1544).then(n.t.bind(n,31544,23)))),I=o().forwardRef(((e,t)=>(0,C.jsx)(i.Suspense,{fallback:(0,C.jsx)(c.Z,{}),children:(0,C.jsx)(_,Object.assign({},e,{ref:t}))})));var N=n(26081),T=n(66893),A=n.n(T),z=n(63622),E=n(3341),L=n(3071);const P=a()(s.Z).withConfig({displayName:"right-scripts-panel__LeftSection",componentId:"sc-1ieqaui-0"})(["flex:1;"]),Z=a().div.withConfig({displayName:"right-scripts-panel__SectionBody",componentId:"sc-1ieqaui-1"})(["flex:1;overflow:hidden;height:100%;margin-top:var(--spacing-l);margin-right:calc(-1 * var(--spacing-xxl));"]);function R(e){const[t,n]=(0,i.useState)(!0);return(0,C.jsxs)(s.Z,{height:"100%",children:[t&&(0,C.jsxs)(P,{direction:"column",children:[(0,C.jsx)("div",{children:e.header}),(0,C.jsx)(Z,{children:e.children})]}),(0,C.jsx)("div",{children:(0,C.jsx)(h.Z,{onClick:()=>n((e=>!e)),type:"tertiary",icon:t?(0,C.jsx)(E.Z,{}):(0,C.jsx)(L.Z,{})})})]})}const O=a().h5.withConfig({displayName:"snippet-layout-components__SnippetTitle",componentId:"sc-2qksja-0"})(["flex:0;margin:0;margin-bottom:var(--spacing-xs);font-weight:var(--text-weight-bold);word-break:normal;font-size:var(--text-size-m);line-height:1.4;color:var(--content-color-secondary);"]),V=a().ul.withConfig({displayName:"snippet-layout-components__SnippetList",componentId:"sc-2qksja-1"})(["position:relative;z-index:1;overflow:auto;height:calc(100% - var(--spacing-l));flex:1;margin:0;padding:0;padding-right:var(--spacing-l);color:var(--content-color-link);box-sizing:border-box;font-family:var(--text-family-default);"]),M=a().li.withConfig({displayName:"snippet-layout-components__SnippetListItem",componentId:"sc-2qksja-2"})(["list-style:none;user-select:none;cursor:pointer;padding:var(--spacing-s) var(--spacing-zero);"]),D=A().getExamples("prerequest");function U({onSelect:e}){return(0,C.jsx)(R,{header:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(z.ZP,{type:"small",children:"Pre-request scripts are written in JavaScript, and are run before the request is sent. Learn more about "}),(0,C.jsx)(N.Link,{to:"https://go.pstmn.io/docs-prerequest-scripts",target:"_blank",children:(0,C.jsx)(z.ZP,{type:"link-default",isExternal:!0,children:"pre-request scripts"})})]}),children:(0,C.jsxs)(s.Z,{direction:"column",height:"100%",children:[(0,C.jsx)(O,{children:"Snippets"}),(0,C.jsx)(V,{children:D.map(((t,n)=>(0,C.jsx)(M,{"data-id":n,title:t.description,onClick:()=>null==e?void 0:e(t.code),children:t.name},n)))})]})})}const F=a()(s.Z).withConfig({displayName:"scripts-panel-layout__FullHeightContainer",componentId:"sc-1xbi5ka-0"})(["height:calc(100% - var(--spacing-s));"]),q=a().div.withConfig({displayName:"scripts-panel-layout__LeftPanel",componentId:"sc-1xbi5ka-1"})(["flex:1 1 70%;border:var(--border-width-default) var(--border-style-solid) var(--border-color-strong);border-radius:var(--border-radius-default);width:calc(100% - ","px - var(--text-size-m));"],250),W=a().div.withConfig({displayName:"scripts-panel-layout__RightPanel",componentId:"sc-1xbi5ka-2"})(["flex:0 0 auto;max-width:","px;padding-left:var(--spacing-m);font-size:var(--text-size-s);"],250);function H(e){return(0,C.jsx)(s.Z,{direction:"column",height:"100%",children:(0,C.jsxs)(F,{children:[(0,C.jsx)(q,{"data-testid":"script-left-panel",children:e.leftPanel}),(0,C.jsx)(W,{"data-testid":"script-right-panel",children:e.rightPanel})]})})}const B=e=>e.charAt(0).toUpperCase()+e.slice(1),$=e=>"string"==typeof e?e:"object"==typeof e?JSON.stringify(e):String(e),K=()=>{const{data:e}=(0,m.useActiveVariables)();return(0,i.useCallback)(((t,n)=>{const i=new RegExp(/pm.(environment|globals|collectionVariables|variables).(((get|set|unset|has)\(('|").*))$/),o=t.getWordBeforePosition(n);let r=t.getLineContent(n.lineNumber);r&&(r=r.slice(0,Math.max(0,n.column-1)));let a=[];const s=i.exec(r);if(!s||s.length<6)return[];const l=s[1],c=e;let d=[];if(!c)return[];const u={globals:"globals",environment:"environment",collectionVariables:"collection"};if("variables"===l)d=c.filter((e=>$(e.key).toLowerCase().includes(o.word.toLowerCase())));else if(u[l]){const e=u[l];d=c.filter((t=>t.scope===e&&"dynamic"!==t.type&&$(t.key).toLowerCase().includes(o.word.toLowerCase())))}return h=d,p={startLineNumber:n.lineNumber,endLineNumber:n.lineNumber,startColumn:o.startColumn,endColumn:o.endColumn},a=h.map((e=>{let t={environment:"a",collection:"b",global:"c"}[e.scope]||"y";return"dynamic"===e.type?(t="z",{label:e.key,detail:`Details: ${$(e.value)}`,documentation:`Scope: ${B(e.scope)}\n\n`,insertText:e.key,range:p,sortText:`${t}-${e.key}`}):{label:e.key,detail:`Current: ${e.sessionValue}`,documentation:`Initial: ${$(e.value)} \nScope: ${B(e.scope)}\n\n`,insertText:e.key,range:p,sortText:`${t}-${e.key}`}})),a;var h,p}),[e])},Y=["jsLib","node","postman-collection","chai","pre-script"],J=(0,x.observer)((function(){const e=(0,i.useRef)(null),[t,n]=y(),o=(0,i.useCallback)((t=>{var n;null==(n=e.current)||n.insertTextBlock(t)}),[]),r=K();return(0,C.jsx)(H,{leftPanel:(0,C.jsx)(I,{ref:e,showNonPrintableCharacters:!0,fontSize:12,language:"javascript",codeCompletionProviders:[{provider:r}],wordWrap:!0,autoFormat:!0,value:t,onChange:n,typeDefinitionTypes:Y}),rightPanel:(0,C.jsx)(U,{onSelect:o})})})),G=A().getExamples("test");function Q({onSelect:e}){return(0,C.jsx)(R,{header:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(z.ZP,{type:"small",children:"Test scripts are written in JavaScript, and are run after the response is received. Learn more about "}),(0,C.jsx)(N.Link,{to:"https://go.pstmn.io/docs-test-scripts",target:"_blank",children:(0,C.jsx)(z.ZP,{type:"link-default",isExternal:!0,children:"tests scripts"})})]}),children:(0,C.jsxs)(s.Z,{direction:"column",height:"100%",children:[(0,C.jsx)(O,{children:"Snippets"}),(0,C.jsx)(V,{children:G.map(((t,n)=>(0,C.jsx)(M,{"data-id":n,title:t.description,onClick:()=>null==e?void 0:e(t.code),children:t.name},n)))})]})})}const X=["jsLib","node","postman-collection","chai","tests-script"],ee=(0,x.observer)((function(){const e=(0,i.useRef)(null),[t,n]=w(),o=(0,i.useCallback)((t=>{var n;null==(n=e.current)||n.insertTextBlock(t)}),[]),r=K();return(0,C.jsx)(H,{leftPanel:(0,C.jsx)(I,{ref:e,showNonPrintableCharacters:!0,fontSize:12,language:"javascript",codeCompletionProviders:[{provider:r}],wordWrap:!0,autoFormat:!0,value:t,onChange:n,typeDefinitionTypes:X}),rightPanel:(0,C.jsx)(Q,{onSelect:o})})}));var te=n(48722);class ne{parsePayload(e){const t=null==e?void 0:e.filter((e=>e.listen===this.type))[0];return t?t.script.exec.join("\n"):""}constructor(e,t){this.type=void 0,this.content="",this.update=e=>{this.content=this.parsePayload(e)},this.setContent=e=>{this.content=e},this.type=e,this.content=this.parsePayload(t),(0,v.makeObservable)(this,{content:!0,setContent:v.action})}getPayload(){return this.content?[{listen:this.type,script:{id:(0,te.v4)(),exec:this.content.split("\n"),type:"text/javascript"}}]:[]}}var ie=n(94181),oe=n(44958),re=n(63154),ae=n(54660);function se(e,t){var n,i,o,r;if(e===t)return!0;if(!e||!t)return!1;const a=(null==(n=e.find((e=>"test"===e.listen)))?void 0:n.script.exec)||[],s=(null==(i=t.find((e=>"test"===e.listen)))?void 0:i.script.exec)||[],l=(null==(o=e.find((e=>"prerequest"===e.listen)))?void 0:o.script.exec)||[],c=(null==(r=t.find((e=>"prerequest"===e.listen)))?void 0:r.script.exec)||[];return Array.isArray(a)&&Array.isArray(s)&&JSON.stringify(a)===JSON.stringify(s)&&Array.isArray(l)&&Array.isArray(c)&&JSON.stringify(l)===JSON.stringify(c)}class le{constructor({collectionId:e}){var t=this;this.collectionId=void 0,this.isLoading=!0,this.error=null,this.unsubscribeFromCollectionCache=void 0,this.unsubscribeFromVariableSessionUpdates=null,this.metadata={},this.preRequestScript="",this.tests="",this.initialValues=[],this.sessionValues=[],this.preRequestStore=new ne("prerequest",[]),this.testScriptStore=new ne("test",[]),this.collectionAuthState=Object.assign({activeAuthType:"noauth",type:"noauth"},f),this.collectionAuthSessionState=ae.defaultAuthSession,this.trackedState={},this.isConflicted=!1,this.isSaving=!1,this.permissions={},this.cachedCollectionItem=void 0,this.startListeningToCollectionCache=()=>{const e=new oe.MultiCacheObserver(oe.cacheClient,[(0,ie.collectionFindOneQuery)({collectionId:this.collectionId}),(0,ie.collectionPermissionsQuery)({collectionId:this.collectionId})]);this.unsubscribeFromCollectionCache=e.subscribe((e=>{this.onCollectionCacheUpdate(e[0]),this.onCollectionPermissionsUpdate(e[1])}))},this.startListeningToSessionStorage=async function(){t.unsubscribeFromVariableSessionUpdates=(0,re.subscribeToSession)({model:"collection",modelId:t.collectionId},(e=>t.onVariableSessionStorageUpdate(e))),t.onVariableSessionStorageUpdate(await(0,re.getSession)({model:"collection",modelId:t.collectionId}))},this.setTrackedState=(e,t)=>{t&&e&&(this.trackedState=Object.assign({},this.trackedState,{[e]:t}))},this.setMetadata=e=>{this.metadata=e},this.setPreRequestScript=e=>{(0,v.transaction)((()=>{this.preRequestStore.setContent(e);const t=[...this.preRequestStore.getPayload(),...this.testScriptStore.getPayload()];this.setTrackedState("events",t)}))},this.setTests=e=>{(0,v.transaction)((()=>{this.testScriptStore.setContent(e);const t=[...this.preRequestStore.getPayload(),...this.testScriptStore.getPayload()];this.setTrackedState("events",t)}))},this.setCollectionAuthState=e=>{(0,v.transaction)((()=>{this.collectionAuthState=e;const t=e.activeAuthType,n=e[t];this.setTrackedState("auth",{[t]:n,type:t})}))},this.setCollectionAuthSessionState=e=>{this.collectionAuthSessionState=e},this.setVariables=e=>{const{initialValues:t,sessionValues:n}=(0,m.unZipVariables)(e);(0,v.transaction)((()=>{this.initialValues=t,this.sessionValues=n,this.setTrackedState("initialValues",t),this.setTrackedState("sessionValues",n)}))},this.setIsSaving=e=>{this.isSaving=e},this.onCollectionCacheUpdate=e=>{var t,n;const i=null==(t=e.data)?void 0:t.data,o=null==(n=e.data)?void 0:n.meta.forkedFrom;if(this.isLoading=!i&&!e.error,this.error=e.error,!i)return;const{incomingChanges:r,isConflicted:a}=function(e,t,n,i){const o={};let r=!1;if(!t)return{incomingChanges:e,isConflicted:r};for(const i of["name","auth","variables","events"])switch(i){case"events":se(e[i],t[i])||(n[i]?r=!0:o[i]=e[i]);break;case"auth":case"name":e[i]!==t[i]&&i in n?r=!0:e[i]!==t[i]&&(o[i]=e[i]);break;case"variables":e[i]!==t.initialValues&&"initialValues"in n?r=!0:e[i]!==t.initialValues&&(o[i]=e[i])}return{incomingChanges:o,isConflicted:r}}(i,this.cachedCollectionItem,this.trackedState);this.isDirty&&a&&(0,v.runInAction)((()=>{this.isConflicted=!0})),r&&Object.keys(r).length>0&&(0,v.runInAction)((()=>{var e,t,n,r,a,s;this.collectionAuthState=i.auth&&(s=null!=(e=this.trackedState.auth)?e:i.auth)?Object.assign({},f,s,{activeAuthType:s.type||"noauth"}):Object.assign({activeAuthType:"noauth",type:"noauth"},f),this.initialValues=null!=(t=null!=(n=this.trackedState.initialValues)?n:i.variables)?t:[],this.preRequestStore.update(null!=(r=this.trackedState.events)?r:i.events),this.testScriptStore.update(null!=(a=this.trackedState.events)?a:i.events),this.cachedCollectionItem=i,this.metadata={id:i.id,name:i.name,description:i.description,createdAt:i.createdAt,forkInfo:o?Object.assign({label:null==o?void 0:o.forkName},o):this.metadata.forkInfo,owner:i.owner}}))},this.onCollectionPermissionsUpdate=e=>{const t=e.data;t&&(0,v.runInAction)((()=>{this.permissions=t}))},this.collectionId=e,(0,v.makeObservable)(this,{isLoading:!0,error:!0,breadcrumbs:v.computed,metadata:v.observable.ref,name:v.computed,metaInfo:v.computed,setMetadata:v.action,preRequestScript:!0,setPreRequestScript:v.action,collectionAuthState:!0,setCollectionAuthState:v.action,collectionAuthSessionState:!0,setCollectionAuthSessionState:v.action,tests:!0,setTests:v.action,variables:v.computed,initialValues:!0,sessionValues:!0,setVariables:v.action,onCollectionCacheUpdate:v.action,isDirty:v.computed,trackedState:!0,setTrackedState:v.action,isConflicted:!0,setIsSaving:v.action,isSaving:!0,permissions:!0,isForked:v.computed}),this.startListeningToCollectionCache(),this.startListeningToSessionStorage()}async onVariableSessionStorageUpdate(e){e&&(0,v.runInAction)((()=>{var t;this.sessionValues=null!=(t=null==e?void 0:e.values)?t:[]}))}get isForked(){var e;return!(null==(e=this.metadata.forkInfo)||!e.label)}get isDirty(){return Object.keys(this.trackedState).length>0}get breadcrumbs(){return null!=(e=this.metadata)&&e.name?[{name:e.name,id:e.id}]:[{id:"DEFAULT",name:b}];var e}get name(){var e;return null!=(e=this.metadata.name)?e:b}get metaInfo(){var e,t;return{createdAt:null!=(e=null==(t=this.metadata)?void 0:t.createdAt)?e:null}}get variables(){const{initialValues:e,sessionValues:t}=this;return(0,m.zipVariables)(e,t)}resetTrackedState(){(0,v.runInAction)((()=>{this.trackedState={},this.isConflicted=!1}))}rollbackUpdates(e,t){(0,v.runInAction)((()=>{this.trackedState=e,this.isConflicted=t}))}destroy(){var e,t;null==(e=this.unsubscribeFromCollectionCache)||e.call(this),null==(t=this.unsubscribeFromVariableSessionUpdates)||t.call(this),this.trackedState={}}}const ce=(0,i.createContext)({}),de=({children:e})=>{if(!(0,g.useInRouterContext)())throw new Error("CollectionEditorProvider must be used within a Router");const{collectionId:t}=(0,g.useParams)(),n=new le({collectionId:t});return(0,i.useEffect)((()=>()=>n.destroy()),[]),(0,C.jsx)(ce.Provider,{value:n,children:e})},ue=()=>{const e=o().useContext(ce);if(!e)throw new Error("useCollectionEditorStore should be used within a CollectionEditorContext.Provider");return e},he=()=>ue().name;var pe=n(44025);const me=()=>{const e=ue();return[e.metadata,e.setMetadata]};var ge=n(49886),ve=n(24502);const be=()=>{const e=ue();return{isDirty:e.isDirty,isSaving:e.isSaving,isConflicted:e.isConflicted}};var fe=n(98283);const xe=["collectionId","patch"],ye=["sessionValues","initialValues"],we=["mutate"],Ce=(0,ie.updateCollectionMutation)(),je=(e,t)=>Object.assign({},e,{values:e.values.map(((e,n)=>{var i;return null===e.value||void 0===e.value?Object.assign({},e,{value:null==(i=t[n])?void 0:i.value}):e}))}),ke=Object.assign({},Ce,{mutationFn:async e=>{let{collectionId:t,patch:n}=e,i=(0,fe.Z)(e,xe);const{sessionValues:o,initialValues:r}=n,a=(0,fe.Z)(n,ye),[s]=await Promise.all([Ce.mutationFn(Object.assign({collectionId:t},i,{patch:Object.assign({},a,{variables:r}),options:{avoidSession:!0}})),o&&(0,re.setSession)({model:"collection",modelId:t},je({values:o},null!=r?r:[]))]);return s}}),Se=()=>{const e=ue(),t=(0,oe.useMutation)(ke),{mutate:n}=t,i=(0,fe.Z)(t,we);return Object.assign({mutate:t=>{const i=e.trackedState,o=e.isConflicted;return t&&(i.name=t),e.resetTrackedState(),e.setIsSaving(!0),n({collectionId:e.collectionId,patch:i},{onError:()=>{e.rollbackUpdates(i,o),(0,l.Am)({title:"Unable to save changes",description:"Could not save changes. Please try again.",status:"error"})},onSettled:()=>{e.setIsSaving(!1)}})}},i)},_e=new Set(["Alt","Meta","Control","Shift"]),Ie=()=>{var e,t;const n=ue();return 0===Object.keys(n.permissions).length?{canEdit:!0,canDelete:!0}:{canEdit:null==(e=n.permissions[ie.CollectionPermissionNames.UPDATE_COLLECTION])?void 0:e.allowed,canDelete:null==(t=n.permissions[ie.CollectionPermissionNames.DELETE_COLLECTION])?void 0:t.allowed}};var Ne=n(37691);const Te=a().div.withConfig({displayName:"fork-label__ForkLabelWrapper",componentId:"sc-1m28191-0"})(["display:flex;align-items:center;overflow:hidden;"]),Ae=a().p.withConfig({displayName:"fork-label__LabelContainer",componentId:"sc-1m28191-1"})(["display:inline-block;white-space:nowrap;overflow:hidden;margin-left:var(--spacing-xs);font-size:var(--text-size-s);font-weight:var(--text-weight-regular);text-overflow:ellipsis;color:var(--content-color-tertiary);"]),ze=({label:e})=>(0,C.jsxs)(Te,{children:[(0,C.jsx)(Ne.Z,{color:"content-color-tertiary",size:"small"}),(0,C.jsx)(Ae,{children:e})]});var Ee=n(38394),Le=n(95617),Pe=n(84492);const Ze=({pathname:e})=>{const[t,n]=(0,i.useState)(!1),o=(0,i.useRef)(),r=(0,i.useCallback)((()=>{const t=Pe.Z.ARTEMIS_URL;navigator.clipboard.writeText(t+e).then((()=>{n(!0),null!=o&&o.current&&clearTimeout(o.current),o.current=setTimeout((()=>{n(!1)}),1500)}))}),[e,o]);return(0,C.jsx)(h.Z,{type:"tertiary",size:"small",className:"copy-link-btn",icon:t?(0,C.jsx)(Ee.Z,{size:"small",color:"base-color-success"}):(0,C.jsx)(Le.Z,{size:"small"}),onClick:r,tooltip:"Copy link to collection"})},Re=a().div.withConfig({displayName:"collection-meta-header__CollectionMetaHeaderContainer",componentId:"sc-5l62ez-0"})(["display:flex;flex-direction:'row';justify-content:space-between;box-sizing:border-box;height:48px;padding:var(--spacing-s) var(--spacing-s);border-bottom:var(--border-width-default) var(--border-style-solid) var(--border-color-default);"]),Oe=a().div.withConfig({displayName:"collection-meta-header__BreadcrumbContainer",componentId:"sc-5l62ez-1"})(["color:var(--content-color-primary);font-weight:var(--text-weight-medium);width:100%;nav{.copy-link-btn{display:none;}:hover{.copy-link-btn{display:inline-flex;}}}"]),Ve=a()(s.Z).withConfig({displayName:"collection-meta-header__LeftSectionRow",componentId:"sc-5l62ez-2"})(["width:100%;padding:var(--spacing-xs);overflow:hidden;"]),Me=(0,x.observer)((()=>{const e=ue().breadcrumbs,t=he(),{isDirty:n,isConflicted:o}=be(),{canEdit:r}=Ie(),{mutate:a}=Se(),[l]=me(),{pathname:h}=(0,g.useLocation)(),p=(0,i.useRef)(null),{rename:m}=(0,N.useAdditionalRouteContext)();(0,i.useEffect)((()=>{var e;m&&(null==(e=p.current)||e.triggerRenameMode())}),[m]),(0,i.useEffect)((()=>{const{setTabTitle:e}=(0,pe.useTabTitleMeta)();e(t,"collection",{isDirty:n,isConflicted:o})}),[t,n,o]);const v=null==l?void 0:l.forkInfo,b=e=>{e!==t&&a(e)};return null!=l&&l.name?(0,C.jsx)(Ve,{direction:"row",shrink:"1",grow:"0",alignItems:"center",gap:"spacing-s",children:(0,C.jsx)(Oe,{children:(0,C.jsx)(d.aG,{appendActions:(0,C.jsx)(Ze,{pathname:h}),metaInfo:{custom:(0,C.jsxs)(s.Z,{alignItems:"center",gap:"spacing-s",children:[(null==v?void 0:v.label)&&(0,C.jsx)(ze,{label:v.label}),!r&&(0,C.jsx)(ge.Z,{title:"You do not have permissions to edit this collection"})]})},ref:p,children:e.map((e=>(0,C.jsx)(u.Z,{enableRename:r,renameInputConfig:{onSubmit:b,value:t},itemData:e,children:e.name},e.name)))})})}):(0,C.jsx)(c.Z,{})})),De=(0,x.observer)((()=>{const{isDirty:e,isSaving:t,isConflicted:n}=be(),{mutate:o}=Se(),{canEdit:r}=Ie(),a=r&&e,l=he(),c=p.Modals.getModals(),d=async()=>{if(!r||!e)return;if(!n)return o();const t=await c.showWarningDialog({uid:"collections-workbench-tab-conflict-confirmation",subject:"DO YOU WANT TO SAVE?",message:`This tab ${l} has been modified from another tab. Saving these changes will overwrite this collection.`,options:[{title:"Cancel",isDefaultOnDismiss:!0},{title:"Save and overwrite",isPrimary:!0}]});return t&&"Save and overwrite"===t.title?o():void 0};return(({ctrlKey:e,shiftKey:t,altKey:n,keys:o,callback:r})=>{const a=(0,i.useRef)([]),s=(0,i.useRef)(!1),l=(0,i.useRef)(!1),c=(0,i.useRef)(!1),d=(0,i.useRef)(null),u=(0,i.useRef)(r);u.current=r,(0,i.useEffect)((()=>{const i=i=>{if((i.ctrlKey||i.metaKey)&&(s.current=!0),i.shiftKey&&(l.current=!0),i.altKey&&(c.current=!0),!_e.has(i.key)&&Array.isArray(o)){const e=o.findIndex((e=>e.toLowerCase()===i.key.toLowerCase()));-1!==e&&(a.current[e]=i.key)}const r=!e||s.current,h=!t||l.current,p=!n||c.current;if(d.current=setTimeout((()=>{s.current=!1,l.current=!1,c.current=!1,a.current=[]}),2500),r&&h&&p){if(Array.isArray(o)&&((e,t)=>{let n=0;for(const o of e){var i;if(o.toLowerCase()!==(null==(i=t[n])?void 0:i.toLowerCase()))return!1;n++}return!0})(o,a.current))return u.current();if(o===i.key)return u.current()}};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i),d.current&&clearTimeout(d.current)}}),[e,t,n,o])})({ctrlKey:!0,keys:"s",callback:d}),(0,C.jsxs)(s.Z,{className:"request-meta-header-right-section",direction:"row",alignItems:"center",gap:"spacing-s",children:[(0,C.jsx)(h.Z,{type:"tertiary",text:t?"Saving...":"Save",isDisabled:!a||t,onClick:d,icon:(0,C.jsx)(ve.Z,{})}),(0,C.jsx)(m.ActiveEnvironmentSelector,{})]})})),Ue=()=>(0,C.jsxs)(Re,{children:[(0,C.jsx)(Me,{}),(0,C.jsx)(De,{})]});var Fe=n(15761),qe=n(27366),We=n(71132),He=n(27162),Be=n(5246);const $e=()=>{const e=ue();return[e.variables,e.setVariables]},Ke=(0,x.observer)((()=>{const[e]=$e();return(0,C.jsxs)(C.Fragment,{children:["Variables",e.length>0&&(0,C.jsx)(k,{})]})})),Ye=()=>{const e=ue();return[e.collectionAuthState,e.setCollectionAuthState]},Je=(0,x.observer)((()=>{const[e]=Ye();return(0,C.jsxs)(C.Fragment,{children:["Authorization",e.activeAuthType&&"noauth"!==e.activeAuthType&&(0,C.jsx)(k,{})]})}));var Ge=n(71453);const Qe=a()(s.Z).withConfig({displayName:"collection-no-auth__NoAuthContainer",componentId:"sc-1ajyu6r-0"})(["width:100%;height:100%;align-items:center;justify-content:center;text-align:center;"]),Xe=a()(N.Link).withConfig({displayName:"collection-no-auth__AuthorizationLink",componentId:"sc-1ajyu6r-1"})(["display:inline-flex;align-items:center;text-decoration:underline;color:var(--content-color-secondary);"]),et=()=>(0,C.jsxs)(Xe,{type:"link-default",to:"https://go.pstmn.io/docs-auth",target:"_blank",rel:"noopener noreferer",children:["authorization",(0,C.jsx)(Ge.Z,{})]}),tt=()=>(0,C.jsx)(Qe,{children:(0,C.jsxs)("div",{children:["This collection does not use any authorization. Learn more about ",(0,C.jsx)(et,{})]})}),nt=(0,x.observer)((function(){const[e,t]=Ye(),[n,o]=(()=>{const e=ue(),[t]=me(),{value:n,setValue:o}=(0,ae.useAuthSessionSafe)({model:"collection",modelId:t.id});return(0,i.useEffect)((()=>{n&&e.setCollectionAuthSessionState(n)}),[n,e]),[e.collectionAuthSessionState,(t,n)=>{const i=Object.assign({},e.collectionAuthSessionState);i.oauth2||(i.oauth2=[]),i.oauth2=i.oauth2.filter((e=>"token_id"!==e.key)),i.oauth2.push({key:t,value:n}),o(i)}]})();return(0,C.jsx)(ae.AuthPanel,{authState:e,authSessionState:n,authDescriptions:{noauth:(0,C.jsx)(tt,{})},disabledAuthTypes:["inherit"],setAuthState:t,setAuthSessionState:o})}));var it=n(96497);const ot=["entityType","isEditable","bleed","onChange","values"],rt=a().div.withConfig({displayName:"variable-editor__StyledVariablesEditor",componentId:"sc-bsbj66-0"})(["flex:1;display:flex;flex-direction:column;overflow:hidden;padding:0 var(--spacing-l);"]),at=function(e){const{entityType:t="collection",isEditable:n=!0,bleed:i=!1,onChange:o,values:r}=e,a=(0,fe.Z)(e,ot);return(0,C.jsx)(rt,{children:(0,C.jsx)(it.KeyValueEditor,Object.assign({enableScroll:!0,tableName:`Variables Editor - ${t}`,entityType:t,keyHeading:"Variable",valueHeading:"Initial value",sessionHeading:"Current value",keyPlaceholder:"Add new variable",valuePlaceholder:"",values:r,onChange:o,showColumns:["key","value","sessionValue"],allowedColumns:["key","value","sessionValue"],containment:{bleed:i},nonEditableKeys:!n,nonEditableValues:!n,nonEditableToggles:!n,nonEditableVariableTypes:!n,enableFiltering:!0,disableMultilineKey:!0,disableMultilineValue:!0,disallowDuplicates:!0},a))})},st=a().div.withConfig({displayName:"variables-table__StyledHeading",componentId:"sc-vxmldj-0"})(["display:flex;flex-direction:column;justify-content:center;box-sizing:border-box;height:var(--size-m);font-size:var(--text-size-m);color:var(--content-color-secondary);font-weight:var(--text-weight-medium);margin:var(--spacing-xs) var(--spacing-zero);padding:0 var(--spacing-l);"]),lt=(0,x.observer)((()=>{const[e,t]=$e();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(st,{children:"Variables"}),(0,C.jsx)(at,{values:e,onChange:t})]})})),ct=lt;var dt=n(83701),ut=n(60883);const ht="element",pt="text";class mt{constructor(){this._elements=[],this._currentParent=null}get elements(){return this._elements}createElementNode(e,t){return{nodeType:ht,children:[],tag:e,attributes:t,parent:null}}createTextNode(e){return{nodeType:pt,children:[],tag:"",attributes:{},text:e}}onopentag(e,t){const n=this.createElementNode(e,t);this._currentParent?(n.parent=this._currentParent,this._currentParent.children.push(n)):this.elements.push(n),this._currentParent=n}ontext(e){if("\n"===e)return;const t=this.createTextNode(e);this._currentParent?this._currentParent.children.push(t):this.elements.push(t)}onclosetag(){this._currentParent=this._currentParent?this._currentParent.parent:null}}const gt=a()(N.Link).withConfig({displayName:"markdown-link__StyledLink",componentId:"sc-1bb3wg6-0"})(["color:var(--content-color-link) !important;text-decoration:none;&:hover{color:var(--content-color-link) !important;text-decoration:underline;}"]);var vt=n(35348);const bt=a().div.withConfig({displayName:"markdown-image__StyledImage",componentId:"sc-1hvq0tl-0"})(["display:flex;flex-direction:column;align-items:center;cursor:",";&.zoom{cursor:zoom-in;}img{flex:1;padding-bottom:var(--spacing-zero);max-width:100%;}.image-caption{margin-top:var(--spacing-xs);color:var(--content-color-secondary);text-align:center;}"],(e=>e.isImageClickEnabled?"zoom-in":"initial")),ft=["modalName","viewMoreAction"],xt=a().div.withConfig({displayName:"with-click-to-expand__ClickToExpandOverlay",componentId:"sc-me20ai-0"})(["position:absolute;bottom:0;left:0;width:100%;height:48px;border-radius:var(--border-radius-default);z-index:10;background:linear-gradient( to top,var(--highlight-background-color-secondary),rgba(255,255,255,0) );"]),yt=a().div.withConfig({displayName:"with-click-to-expand__ClickToExpandContainer",componentId:"sc-me20ai-1"})(["max-width:100%;border-radius:var(--border-radius-default);border:var(--border-width-default) var(--border-style-solid) var(--border-color-strong);position:relative;max-height:",";background-color:transparent;overflow-x:hidden;overflow-y:hidden;"],(e=>e.maxHeight||"200px")),wt=a().button.withConfig({displayName:"with-click-to-expand__ClickToExpandButton",componentId:"sc-me20ai-2"})(["position:absolute;bottom:var(--spacing-s);left:50%;transform:translateX(-50%);background-color:var(--background-color-tertiary);border:var(--border-width-default) var(--border-style-solid) var(--border-color-default);border-radius:calc(8 * var(--border-radius-default));color:var(--content-color-primary);padding:var(--spacing-xs) var(--spacing-m);font-size:var(--text-size-m);appearance:button;-webkit-appearance:button;cursor:pointer;line-height:inherit;white-space:nowrap;&:focus{outline:none;}"]);function Ct(e,t){return function(n){let{modalName:o,viewMoreAction:r}=n,a=(0,fe.Z)(n,ft);const[s,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),p=(0,i.useRef)(null),m=(0,i.useRef)(),g=(0,i.useRef)(),v=function(e,{threshold:t=0,root:n=null,rootMargin:o="0%",freezeOnceVisible:r=!1}){const[a,s]=(0,i.useState)(),l=(null==a?void 0:a.isIntersecting)&&r,c=([e])=>{s(e)};return(0,i.useEffect)((()=>{const i=null==e?void 0:e.current;if(!window.IntersectionObserver||l||!i)return;const r=new IntersectionObserver(c,{threshold:t,root:n,rootMargin:o});return r.observe(i),()=>r.disconnect()}),[e,JSON.stringify(t),n,o,l]),a}(p,{}),b=!(null==v||!v.isIntersecting),f=()=>{var e;if(null==p||!p.current||null==m||!m.current)return null;const{height:t,width:n}=m.current.getBoundingClientRect(),{height:i,width:o}=p.current.getBoundingClientRect(),r=null==(e=m.current)?void 0:e.innerText,a=t>i||n>o||r&&(null==r?void 0:r.split("\n").length)>11||r&&r.length>5e3;l(a)};return(0,i.useLayoutEffect)((()=>{f()}),[p,m]),(0,i.useEffect)((()=>(g.current=new ResizeObserver(f),()=>(null==g?void 0:g.current)&&g.current.disconnect())),[]),(0,i.useEffect)((()=>{null!=g&&g.current&&(b?(p.current&&g.current.observe(p.current),m.current&&g.current.observe(m.current)):(p.current&&g.current.unobserve(p.current),m.current&&g.current.unobserve(m.current)))}),[b,g,p,m]),(0,C.jsxs)(C.Fragment,{children:[u&&(0,C.jsxs)(vt.u_,{isOpen:u,size:(null==t?void 0:t.modalSize)||"large",className:"highlighted-code--snippet-modal",onClose:()=>{h(!1),"function"==typeof r&&r()},children:[(0,C.jsx)(vt.xB,{heading:o||(null==t?void 0:t.modalHeading)}),(0,C.jsx)(vt.hz,{children:(0,C.jsx)(e,Object.assign({codeCompHandlers:{isCodeWrapped:c,setIsCodeWrapped:d}},a))})]}),(0,C.jsxs)(yt,{ref:p,maxHeight:null==t?void 0:t.maxHeight,children:[s?(0,C.jsx)(xt,{children:(0,C.jsx)(wt,{"data-entity-id":"click-to-expand-button",className:"highlighted-code__expand-button",onClick:()=>{h(!0),"function"==typeof r&&r()},children:"View More"})}):null,(0,C.jsx)(e,Object.assign({ref:m,codeCompHandlers:{isCodeWrapped:c,setIsCodeWrapped:d}},a))]})]})}}const jt=a().table.withConfig({displayName:"markdown-table__TableContainer",componentId:"sc-715180-0"})(["width:100%;border-radius:var(--border-radius-default);border-spacing:0;border-collapse:collapse;border:var(--border-width-default) var(--border-style-solid) var(--border-color-default);font-size:var(--text-size-m);"," &{border-width:0;}th{min-width:77px;max-width:77px;padding:var(--spacing-xs) var(--spacing-l);word-break:break-word;vertical-align:top;white-space:pre-line;border:var(--border-width-default) var(--border-style-solid) var(--border-color-default);border-top:none;text-align:left;font-weight:normal;background-color:var(--background-color-secondary);&:first-child{border-left:none;}&:last-child{border-right:none;}}td{min-width:77px;max-width:77px;padding:var(--spacing-xs) var(--spacing-l);word-break:break-word;vertical-align:top;white-space:pre-line;border:var(--border-width-default) var(--border-style-solid) var(--border-color-default);&:first-child{border-left:none;}&:last-child{border-right:none;}}tr{height:var(--size-m);min-height:var(--size-m);&:last-child{th,td{border-bottom:none;}}& > span{display:none;}}"],yt),kt=({children:e},t)=>(0,C.jsx)(jt,{ref:t,"data-testid":"markdown-table",children:e}),St=Ct(o().forwardRef(kt),{maxHeight:"480px",modalHeading:"Table"});var _t=n(16135),It=n(97593),Nt=n.n(It);var Tt=n(53723),At=n.n(Tt),zt=n(83125),Et=n(45261);const Lt=a().div.withConfig({displayName:"code-wrapperstyles__EnhancedCodeContainer",componentId:"sc-xsxm3j-0"})(["pre{margin-top:0;padding:5px 12px;font-size:12px;line-height:18px;}"]),Pt=a().pre.withConfig({displayName:"code-wrapperstyles__SimpleCodeWrapper",componentId:"sc-xsxm3j-1"})(["margin-bottom:0;font-size:12px;border-width:0px;height:100%;border-radius:0px;background-color:inherit;padding:inherit;line-height:",";font-size:",";code{white-space:pre;border:0px !important;tab-size:4;color:",";}"],(e=>(e.darkMode,"18px")),(e=>(e.darkMode,"12px")),(e=>e.darkMode?"#f8f8f8":"grey")),Zt=a().div.withConfig({displayName:"code-wrapperstyles__HighlightCode",componentId:"sc-xsxm3j-2"})(["height:100%;pre{height:100%;margin:0px;code{padding:0px;border:0px;border-radius:0px;font-family:var(--text-family-code);}}"]),Rt=a().div.withConfig({displayName:"code-wrapperstyles__CodeContainer",componentId:"sc-xsxm3j-3"})(["border:var(--border-width-default) var(--border-style-solid) var(--border-color-strong);border-radius:var(--border-radius-default);background-color:var(--background-color-primary);box-sizing:border-box;display:flex;flex-direction:column;flex:1;overflow:hidden;"," &{border-width:0;}"],yt),Ot=a().div.withConfig({displayName:"code-wrapperstyles__ConfigContainer",componentId:"sc-xsxm3j-4"})(["display:flex;gap:var(--spacing-s);padding:var(--spacing-s);"]),Vt=a().div.withConfig({displayName:"code-wrapperstyles__LanguageLabel",componentId:"sc-xsxm3j-5"})(["background-color:var(--background-color-tertiary);color:var(--content-color-secondary);padding:var(--spacing-s) var(--spacing-m);border-radius:var(--border-radius-default);font-size:var(--text-size-m);line-height:var(--line-height-m);font-weight:var(--text-weight-medium);"]),Mt=a().div.withConfig({displayName:"code-wrapperstyles__ButtonContainer",componentId:"sc-xsxm3j-6"})(["margin-left:auto;display:flex;gap:var(--spacing-s);"]),Dt=a().div.withConfig({displayName:"code-wrapperstyles__CodePlaceholder",componentId:"sc-xsxm3j-7"})(["position:relative;flex:1;overflow-y:auto;"]);function Ut({content:e,language:t,innerRef:n,notHighlighted:o=!1,isWrapped:r=!1}){const a=(t||"javascript").toLowerCase(),s=!o&&!0,l=(0,i.useMemo)((()=>e),[e]);return(0,C.jsx)(Lt,{"data-entity-type":"code-block",children:s?(0,C.jsx)(Zt,{className:"highlight-code",children:(0,C.jsx)("pre",{className:`language-${a}`,children:(0,C.jsx)("code",{ref:n,className:At()(`language-${a}`,"highlighted-code__code",{wrapped:r}),dangerouslySetInnerHTML:{__html:l}})})}):(0,C.jsx)(Pt,{className:"simple-code",darkMode:!0,children:(0,C.jsx)("code",{children:l})})})}const Ft=["content","language","overrideClass","codeCompHandlers"];function qt(e,t){let{content:n,language:o,overrideClass:r,codeCompHandlers:a}=e,s=(0,fe.Z)(e,Ft);const[l,c]=(0,i.useState)(!1),{isCodeWrapped:d,setIsCodeWrapped:u}=a||{},p=(0,i.useRef)(),m=(0,i.useCallback)((()=>{navigator.clipboard.writeText(n).then((()=>{c(!0),null!=p&&p.current&&clearTimeout(p.current),p.current=setTimeout((()=>{c(!1)}),1500)}))}),[n,p]);return(0,C.jsxs)(Rt,{"data-testid":"markdown-code-container",className:At()(r,"highlighted-code--documentation"),children:[(0,C.jsxs)(Ot,{children:[o&&(0,C.jsx)(Vt,{className:"highlighted-code__language-label",children:o}),(0,C.jsxs)(Mt,{children:[(0,C.jsx)(h.Z,{type:"tertiary",tooltip:"Wrap Lines",isActive:d,icon:(0,C.jsx)(zt.Z,{}),onClick:()=>u&&u(!d),className:"highlighted-code__config-button"}),(0,C.jsx)(h.Z,{tooltip:"Copy",type:"tertiary",onClick:m,icon:l?(0,C.jsx)(Ee.Z,{color:"content-color-success"}):(0,C.jsx)(Et.Z,{}),className:"highlighted-code__config-button"})]})]}),(0,C.jsx)(Dt,{children:(0,C.jsx)(Ut,Object.assign({language:o,isWrapped:d,content:n,innerRef:t},s))})]})}const Wt=Ct((0,i.forwardRef)(qt),{maxHeight:"250px"}),Ht=a().pre.withConfig({displayName:"markdown-code__PreContainer",componentId:"sc-1q1jdck-1"})(["font-family:var(--text-family-code);code{background-color:transparent;border:none;border-radius:0;}"]);function Bt(e){const t=e.split("_");let n=t[0];for(let e=1;e<t.length;e++)n+=t[e].charAt(0).toUpperCase()+t[e].slice(1);return n}function $t({markdown:e,renderer:t,disableGfm:n,markedOptions:i,isImageClickEnabled:r=!1}){const a=o().useMemo((()=>function(e,t,n){if("string"!=typeof e)return"";const i=Object.assign({gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!1,headerIds:!1,mangle:!1},t);return function(e="",t){const n=null!=t&&t.inline?{allowedTags:["a","b","i","strong","em","strike","br","s","del"],allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"],video:["src","srcset","alt","title","width","height","loading"],"*":["class"]}}:{allowedTags:["h1","h2","h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre","img","abbr","address","section","article","aside","dd","dl","dt","tfoot","s","del","comment","u","video"],allowedAttributes:{a:["href"],img:["src","width","height","class","alt"],video:["src","width","height","class","alt"],div:["class"],pre:["class"],h1:["id"],"*":["class"]}};return e=e.replace(/<!--/g,"<comment>").replace(/--(!)?>/g,"</comment>"),Nt()(e,n)}(_t.marked.parse(e,i),n||{})}(function(e){try{return e?e.trim():""}catch(e){return""}}(e),Object.assign({gfm:!n},i))),[e,n,i]),s=o().useMemo((()=>function(e){const t=new mt;return new ut.Parser(t).parseComplete(e),t.elements}(a)),[a]),l=(e,n)=>{if(!e)return null;const i=(null==t?void 0:t[e.tag])||e.tag;if(e.nodeType===pt){const i=(null==t?void 0:t[pt])||"span";return o().createElement(i,{key:n},e.text)}return e.nodeType===ht?o().createElement(i,Object.assign({},e.attributes?function(e){let t={};for(const n of Object.keys(e)){let i;i="class"===n?"className":"for"===n?"htmlFor":Bt(n),t=Object.assign({},t,{[i]:e[n]})}return t}(e.attributes):{},{key:n,isImageClickEnabled:r}),e.children.length>0?e.children.map(((e,t)=>l(e,t))):null):null};return(0,C.jsx)("div",{className:"markdown-viewer","data-testid":"markdown-viewer",children:null==s?void 0:s.map(((e,t)=>l(e,t)))})}$t.defaultProps={markdown:"",renderer:{a:function({href:e,children:t}){const n=e&&e.startsWith("#");return(0,C.jsx)(gt,{to:e,target:n?"_self":"_blank",children:t})},img:function({src:e,alt:t,width:n,height:o,isImageClickEnabled:r=!1}){const[a,l]=(0,i.useState)(!1),c=(0,i.useMemo)((()=>decodeURIComponent(t||"")),[t]),d=()=>(0,C.jsx)("img",{src:e,alt:t,width:n,height:o,onClick:r?()=>l(!0):void 0});return(0,C.jsxs)(C.Fragment,{children:[a&&(0,C.jsxs)(vt.u_,{isOpen:a,size:"large",onClose:()=>{l(!1)},children:[(0,C.jsx)(vt.xB,{heading:c||""}),(0,C.jsx)(vt.hz,{children:(0,C.jsx)(s.Z,{direction:"column",alignItems:"center",children:(0,C.jsx)(d,{})})})]}),(0,C.jsxs)(bt,{isImageClickEnabled:r,"data-testid":"markdown-image",children:[(0,C.jsx)(d,{}),t&&(0,C.jsx)("p",{className:"image-caption",children:c})]})]})},table:St,pre:function({children:e,viewMoreAction:t}){var n,r,a;const s=i.Children.toArray(e).find((e=>o().isValidElement(e)&&"code"===(null==e?void 0:e.type))),l=e&&e[0]&&o().isValidElement(e[0])&&e[0].props&&e[0].props.className&&(null==(n=e[0].props.className)?void 0:n.split("-")),c=l&&l[1]||"Plain Text";if(void 0===s)return(0,C.jsx)(Ht,{children:e});const d=s?i.Children.toArray(null==s||null==(r=s.props)?void 0:r.children).filter((e=>o().isValidElement(e)&&"span"===e.type)):void 0,u=d?null==(a=d.map((e=>{var t;return null==e||null==(t=e.props)?void 0:t.children})))||null==(a=a.join(""))?void 0:a.trim():null;return(0,C.jsx)(Wt,{content:u||"",language:c,modalName:"Code",viewMoreAction:t})}},disableGfm:!1,markedOptions:{}};var Kt=n(74962),Yt=n(91214),Jt=n(73720);const Gt="collection-workbench-description-paint-time",Qt="collection-workbench-author-paint-time",Xt="collection-workbench-description-paint-mark",en="collection-workbench-author-paint-mark",{PerformanceMarkPaint:tn}=Jt.perfComponents,nn=()=>{performance.measure(Qt,{},en),(0,Jt.sendMeasureEvent)({name:Qt})},on=a().div.withConfig({displayName:"entity-meta-info-view__EntityMetaInfoContainer",componentId:"sc-39k1zh-0"})(["display:flex;flex-direction:column;gap:var(--spacing-l);padding-bottom:var(--spacing-xl);"]),rn=a()(Kt.Z).withConfig({displayName:"entity-meta-info-view__ItemLabel",componentId:"sc-39k1zh-1"})(["display:flex;margin-bottom:var(--spacing-xs);cursor:default;-webkit-user-select:none;user-select:none;"]),an=a().div.withConfig({displayName:"entity-meta-info-view__ItemContent",componentId:"sc-39k1zh-2"})(["display:flex;align-items:center;overflow:hidden;"]),sn=a()(an).withConfig({displayName:"entity-meta-info-view__OwnerItemContent",componentId:"sc-39k1zh-3"})(["display:flex;gap:var(--spacing-s);"]),ln=e=>{const t=`/users/${e}`;return Pe.Z.ARTEMIS_URL+t};function cn({info:e}){const[t,n]=(0,i.useState)(),{createdAt:o}=e||{},r=o&&new Date(o),a=r&&`${r.toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"})}, ${r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}`;return(0,i.useEffect)((()=>{(async()=>{if(e.owner){const t=await(0,ie.getUserInfo)({userIds:[e.owner],type:"user"}),i=t&&t[e.owner];n(i)}})()}),[e.owner]),(0,C.jsxs)(on,{"data-testid":"entity-meta-info",children:[t&&(0,C.jsx)(tn,{markName:en,callback:nn,children:(0,C.jsxs)("div",{children:[(0,C.jsx)(rn,{type:"h6",text:"Created by",color:"content-color-secondary"}),(0,C.jsxs)(sn,{className:"entity-meta-info__item__content",children:[(0,C.jsx)(Yt.Z,{type:"user",userId:t.is_accessible?t.id:null,src:t.is_accessible?t.profile_pic_url:null,size:"m"}),(0,C.jsx)(N.Link,{to:ln(t.id),target:"_blank",children:(0,C.jsx)(z.ZP,{type:"body-medium",color:"content-color-primary",children:String(window.USER_ID)===String(t.id)?"You":t.name})})]})]})}),o&&a&&(0,C.jsxs)("div",{children:[(0,C.jsx)(rn,{type:"h6",text:"Created on",color:"content-color-secondary"}),(0,C.jsx)(an,{className:"entity-meta-info__item__content",children:(0,C.jsx)("div",{className:"entity-meta-info__item__content__date",title:a,children:(0,C.jsx)(z.ZP,{type:"body-medium",color:"content-color-primary",children:a})})})]})]})}var dn=n(18047);const un=a()(N.Link).withConfig({displayName:"view-full-documentation-link__StyledLink",componentId:"sc-fakxit-0"})(["z-index:10;box-sizing:border-box;bottom:0;display:flex;align-self:end;align-items:center;cursor:pointer;font-size:var(--text-size-m);color:var(--content-color-link);font-weight:var(--text-weight-regular);background:var(--background-color-primary);padding:var(--spacing-s);flex-shrink:0;> i{margin-left:var(--spacing-xs);}"]),hn=a()(s.Z).withConfig({displayName:"view-full-documentation-link__StyledFlex",componentId:"sc-fakxit-1"})(["border-top:var(--border-style-solid) var(--border-width-default) var(--border-color-default);margin-right:var(--spacing-l);padding-left:var(--spacing-s);padding-bottom:var(--spacing-l);"]),pn=a()(s.Z).withConfig({displayName:"view-full-documentation-link__ComingSoonContainer",componentId:"sc-fakxit-2"})(["color:var(--content-color-secondary);"]),mn=e=>{const t=`/documentation/${e}`;return Pe.Z.ARTEMIS_URL+t};function gn({collectionId:e}){return(0,C.jsxs)(hn,{alignItems:"center",gap:"spacing-s",justifyContent:"space-between",children:[(0,C.jsxs)(un,{to:mn(e),target:"_blank",children:[(0,C.jsx)("span",{children:"View in Postman"}),(0,C.jsx)(Ge.Z,{color:"content-color-link"})]}),(0,C.jsxs)(pn,{alignItems:"center",gap:"spacing-s",children:[(0,C.jsx)(dn.Z,{}),(0,C.jsx)("span",{children:"Coming soon: Edit collection description in VS Code!"})]})]})}const{PerformanceMarkPaint:vn}=Jt.perfComponents,bn=()=>{performance.measure(Gt,{},Xt),(0,Jt.sendMeasureEvent)({name:Gt})},fn=a()(s.Z).withConfig({displayName:"collection-overview__Container",componentId:"sc-1u4lecz-0"})(["overflow-y:auto;padding-top:var(--spacing-xl);padding-left:var(--spacing-l);height:100%;"]),xn=a()(dt.Z).withConfig({displayName:"collection-overview__ParentResponsiveContainer",componentId:"sc-1u4lecz-1"})(["width:100%;height:100%;"]),yn=a()(dt.Z).withConfig({displayName:"collection-overview__DocumentationResponsiveContainer",componentId:"sc-1u4lecz-2"})(["font-size:var(--text-size-m);line-height:var(--line-height-m);grid-template-rows:1fr auto;box-sizing:border-box;position:relative;row-gap:12px;height:100%;min-height:unset;padding-bottom:0;.description-preview{overflow:auto;height:fit-content;max-height:100%;flex:1;&__markdown{word-break:break-word;}}"]),wn=a()(s.Z).withConfig({displayName:"collection-overview__MarkdownViewerContainer",componentId:"sc-1u4lecz-3"})(["overflow:auto;"]),Cn=a().div.withConfig({displayName:"collection-overview__EmptyDescriptionPlaceholder",componentId:"sc-1u4lecz-4"})(["color:var(--content-color-secondary);padding:var(--spacing-zero) var(--spacing-zero) var(--spacing-l) var(--spacing-l);line-height:18px;"]),jn=(0,x.observer)((function(){var e;const[t]=me(),n=null!=(e=null==t?void 0:t.description)?e:"",i=ue().metaInfo,{collectionId:o}=(0,g.useParams)();return(0,C.jsx)(fn,{children:(0,C.jsxs)(xn,{type:"row",maxWidth:"container-width-medium",overflow:"unset",children:[(0,C.jsx)(yn,{type:"column",span:8,mobile:12,minHeight:"100%",children:(0,C.jsx)(vn,{markName:Xt,callback:bn,children:(0,C.jsxs)(wn,{direction:"column",children:[n?(0,C.jsx)($t,{className:"description-preview__markdown",markdown:n}):(0,C.jsx)(Cn,{children:"This collection doesn't have a description."}),o&&(0,C.jsx)(gn,{collectionId:o})]})})}),i&&(0,C.jsx)(dt.Z,{type:"column",span:3,mobile:12,padding:{paddingRight:"spacing-s",paddingLeft:"spacing-s"},overflow:"unset",children:(0,C.jsx)(s.Z,{gap:"spacing-l",direction:"column",children:(0,C.jsx)(cn,{info:{createdAt:null==i?void 0:i.createdAt,owner:t.owner}})})})]})})})),kn=a()(pe.PaneContent).withConfig({displayName:"collection-editor__StyledPaneContent",componentId:"sc-3bbfa0-0"})(["box-sizing:border-box;width:100%;overflow:hidden;"]),Sn=a()(Fe.Z).withConfig({displayName:"collection-editor__StyledTabHeaders",componentId:"sc-3bbfa0-1"})(["box-sizing:border-box;padding:var(--spacing-zero) var(--spacing-s);width:100%;"]),_n=a()(Fe.Z).withConfig({displayName:"collection-editor__StyledTabs",componentId:"sc-3bbfa0-2"})(["box-sizing:border-box;padding:var(--spacing-zero) var(--spacing-s);&,> div,> div > div{display:flex;flex-direction:column;flex:1;overflow:hidden;}"]),In=()=>(0,C.jsx)(pe.PaneHeader,{defaultLayout:"horizontal",horizontalComponent:null,width:{default:400,collapsed:33,uncollapsed:400,min:300,resizableByDefault:!0},verticalComponent:(0,C.jsx)(pe.PaneLabel,{layout:"vertical",label:"Collection Editor",arrowDirection:"right"})}),Nn=a()(s.Z).withConfig({displayName:"collection-editor__TabHeadersWrapper",componentId:"sc-3bbfa0-3"})(["padding-inline-end:var(--spacing-l);"]),Tn=()=>{const[e,t]=o().useState(0);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(An,{switchTab:t}),(0,C.jsx)(kn,{children:(0,C.jsx)(zn,{activeTabIndex:e})})]})},An=e=>{const[t,n]=o().useState(0);return(0,C.jsx)(Nn,{children:(0,C.jsx)(Sn,{activeTabIndex:t,onChange:function(t){n(t),e.switchTab(t)},type:"primary",incrementallyCreateTabs:!0,destroyInactiveTabs:!0,"data-testid":"collection-tab-panel",children:(0,C.jsxs)(qe.Z,{children:[(0,C.jsx)(We.Z,{label:"Overview"}),(0,C.jsx)(We.Z,{label:(0,C.jsx)(Je,{})}),(0,C.jsx)(We.Z,{label:(0,C.jsx)(S,{title:"Pre-request Script"})}),(0,C.jsx)(We.Z,{label:(0,C.jsx)(S,{type:"test",title:"Tests"})}),(0,C.jsx)(We.Z,{label:(0,C.jsx)(Ke,{})})]})})})},zn=e=>(0,C.jsx)(_n,{activeTabIndex:e.activeTabIndex,incrementallyCreateTabs:!0,destroyInactiveTabs:!0,children:(0,C.jsxs)(He.Z,{children:[(0,C.jsx)(Be.Z,{children:(0,C.jsx)(jn,{})}),(0,C.jsx)(Be.Z,{children:(0,C.jsx)(nt,{})}),(0,C.jsx)(Be.Z,{children:(0,C.jsx)(J,{})}),(0,C.jsx)(Be.Z,{children:(0,C.jsx)(ee,{})}),(0,C.jsx)(Be.Z,{children:(0,C.jsx)(ct,{})})]})});var En=n(19972);const Ln=e=>Object.assign({},(0,ie.collectionFindOneQuery)({collectionId:e}),{select:e=>e.data}),Pn=({children:e})=>{const t=(0,En.useActiveWorkspaceId)(),{collectionId:n}=(0,g.useParams)(),i=new m.VariablesContextStore({collectionFetchOptions:Ln(n)},{workspaceId:t});return(0,C.jsx)(m.VariablesContextProvider,{store:i,children:e})};var Zn=n(49437),Rn=n(80047);const On=a()(s.Z).withConfig({displayName:"coming-soon__ComingSoonWrapper",componentId:"sc-a70trz-0"})(["overflow:hidden;"]);function Vn({description:e}){return(0,C.jsx)(On,{direction:"column",height:"100%",justifyContent:"center",alignItems:"center",children:(0,C.jsx)(Zn.Z,{title:"Coming Soon",description:e,children:(0,C.jsx)(Rn.Z,{name:"illustration-no-custom-domain"})})})}const Mn=a()(s.Z).withConfig({displayName:"workbench-wrapper__CollectionWorkbenchContainer",componentId:"sc-x3rbex-0"})(["height:100vh;width:100vw;min-width:650px;max-width:100%;background-color:var(--background-color-primary);color:var(--content-color-primary);overflow:hidden;"]),Dn=(0,x.observer)((({children:e})=>{const{isLoading:t,error:n}=(()=>{const e=ue();return{isLoading:e.isLoading,error:e.error}})(),i=(0,g.useParams)().collectionId;if((0,ie.useCollectionSubscription)({collectionId:i||"",workspaceId:(0,En.useActiveWorkspaceId)()}),!t&&n)throw n;return(0,C.jsx)(Mn,{direction:"column",children:t?(0,C.jsx)(c.Z,{size:"large",description:"Loading Collection"}):e})})),Un=a()(s.Z).withConfig({displayName:"collection-workbench__PaneWrapper",componentId:"sc-1i28mc1-0"})(["overflow:hidden;flex:1;min-width:650px;max-width:100%;"]),Fn=()=>{const e=(0,C.jsx)(de,{children:(0,C.jsx)(Pn,{children:(0,C.jsx)(l.VW,{children:(0,C.jsxs)(Dn,{children:[(0,C.jsx)(Ue,{}),(0,C.jsxs)(Un,{direction:"column",children:[(0,C.jsx)(In,{}),(0,C.jsx)(Tn,{})]})]})})})});return ie.ENABLE_COLLECTIONS?e:(0,C.jsx)(Vn,{description:"Collections coming soon"})}},84492:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(69730),o=n.n(i);const r=Object.assign({},o(),{DISABLE_ANALYTICS:!1,ANALYTICS_URL:"https://events.getpostman.com/events",IDENTITY_URL:"https://identity.getpostman.com",ARTEMIS_URL:"https://go.postman.co",HTTPS_GATEWAY_PRIVATE_URL:"https://bifrost-extension-https-global.gw.postman.com",WEBSOCKET_GATEWAY_URL:"wss://bifrost-extension-global.gw.postman.com",WEB_URL:"https://www.getpostman.com",DASHBOARD_URL:"https://go.postman.co",EXPLORE_URL:"https://www.postman.com",SENTRY_DSN:"https://0fd0f21b182549f18b0e01ce62f8adb0@o1224273.ingest.sentry.io/4505072910139392",OAUTH2_CALLBACK_URL:"https://oauth.pstmn.io/v1/vscode-callback"})},69730:()=>{}}]);
//# sourceMappingURL=983.eb7333ce1c96d03e.js.map