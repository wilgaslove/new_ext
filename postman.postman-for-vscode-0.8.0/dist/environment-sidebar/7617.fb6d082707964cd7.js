"use strict";(self.webpackChunkenvironment_sidebar=self.webpackChunkenvironment_sidebar||[]).push([[7617],{4174:(e,r,n)=>{n.r(r),n.d(r,{InlineEditor:()=>h});var t=n(540),o=n.n(t);const a=new Set(["Alt","Meta","Control","Shift"]),i=({ctrlKey:e,shiftKey:r,altKey:n,keys:o,callback:i})=>{const l=(0,t.useRef)([]),s=(0,t.useRef)(!1),c=(0,t.useRef)(!1),d=(0,t.useRef)(!1),u=(0,t.useRef)(null),v=(0,t.useRef)(i);v.current=i,(0,t.useEffect)((()=>{const t=t=>{if((t.ctrlKey||t.metaKey)&&(s.current=!0),t.shiftKey&&(c.current=!0),t.altKey&&(d.current=!0),!a.has(t.key)&&Array.isArray(o)){const e=o.findIndex((e=>e.toLowerCase()===t.key.toLowerCase()));-1!==e&&(l.current[e]=t.key)}const i=!e||s.current,f=!r||c.current,h=!n||d.current;if(u.current=setTimeout((()=>{s.current=!1,c.current=!1,d.current=!1,l.current=[]}),250),i&&f&&h){if(Array.isArray(o)&&((e,r)=>{let n=0;for(const o of e){var t;if(o.toLowerCase()!==(null==(t=r[n])?void 0:t.toLowerCase()))return!1;n++}return!0})(o,l.current))return v.current();if(o===t.key)return v.current()}};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t),u.current&&clearTimeout(u.current)}}),[e,r,n,o])};var l=n(5892),s=n.n(l),c=n(2322);const d=s().input.withConfig({displayName:"input__StyledInput",componentId:"sc-pysry-0"})(["width:100%;font-size:var(--text-size-m);color:var(--content-color-primary);font-weight:inherit;line-height:var(--line-height-m);border-radius:var(--border-radius-default);background-color:var(--background-color-secondary);border:var(--border-width-default) var(--border-style-solid) var(--border-color-default);&:hover{border-color:var(--border-color-strong);background-color:var(--background-color-tertiary);}&:focus{border-color:var(--border-color-strong);background-color:var(--background-color-primary);}&:hover,&:focus,&:active{outline:none;}"]),u=e=>{const{value:r,type:n,placeholder:t,autoFocus:o,disabled:a,testId:i,onClick:l,ref:s,onBlur:u,onChange:v,readOnly:f,className:h}=e;return(0,c.jsx)("div",{className:"input-field",children:(0,c.jsx)(d,{className:h,ref:s,autoFocus:o,value:r,onBlur:u,onChange:e=>{v&&v(e.target.value)},onClick:l,type:n||"text",placeholder:t,disabled:a,readOnly:f,"data-testid":null!=i?i:"base-input-field"})})},v=s().div.withConfig({displayName:"inline-editor__InlineEditorWrapper",componentId:"sc-1bwjn3k-0"})(["width:100%;padding-right:var(--spacing-m);"]),f=s().div.withConfig({displayName:"inline-editor__StyledDiv",componentId:"sc-1bwjn3k-1"})(["margin-right:var(--spacing-xs);padding:var(--spacing-xs);padding-right:var(--spacing-s);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;:hover{background-color:var(--highlight-background-color-primary);border-radius:var(--border-radius-default);}"]),h=o().forwardRef(((e,r)=>{const[n,o]=(0,t.useState)(e.value);(0,t.useEffect)((()=>{o(e.value)}),[e.value]);const{placeholder:a,className:l,setIsEditMode:s,isEditMode:d,isDisabled:h,onSubmit:p,onCancel:y,onChange:g,onClick:b}=e;return i({keys:"Enter",callback:()=>{if(n!==e.value&&n.trim()){const e=n.trim();p(e),o(e),s&&s(!1)}}}),i({keys:"Escape",callback:()=>{s&&s(!1),o(e.value),y&&y()}}),d&&!h?(0,c.jsx)(v,{children:(0,c.jsx)(u,{autoFocus:!0,className:`inline-input ${null!=l?l:""}`,placeholder:a,ref:r,value:n,onBlur:()=>{if(n.trim()){const e=n.trim();p(e),o(e)}else o(e.value);s&&s(!1)},onChange:e=>{g&&g(e),o(e)},onClick:e=>{e.stopPropagation(),e.preventDefault(),b&&b()}})}):(0,c.jsx)(f,{role:"navigation",title:e.value,className:l||"",children:e.value})}))}}]);
//# sourceMappingURL=7617.fb6d082707964cd7.js.map