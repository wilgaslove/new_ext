"use strict";(self.webpackChunkcode_editor=self.webpackChunkcode_editor||[]).push([[1685],{8013:(e,t,s)=>{s.r(t),s.d(t,{CacheObserver:()=>a.QueryObserver,DataFetchCacheProvider:()=>c,MultiCacheObserver:()=>a.QueriesObserver,cacheClient:()=>r,invalidateCache:()=>C,setupCacheBroadcasts:()=>h,updateCache:()=>p,useCacheClient:()=>v,useDataFetch:()=>a.useQuery,useInfiniteDataFetch:()=>a.useInfiniteQuery,useMutation:()=>a.useMutation});var a=s(4527);const r=new a.QueryClient({defaultOptions:{queries:{staleTime:Number.POSITIVE_INFINITY,useErrorBoundary:!0,retry:!1,refetchOnWindowFocus:!1}}});s(540);var u=s(2600),n=s(2322);const c=({children:e})=>(0,n.jsxs)(a.QueryClientProvider,{client:r,children:[e,(0,n.jsx)(u.ReactQueryDevtools,{initialIsOpen:!1})]}),i="SYNC_CLIENT_CACHE";var o=s(7560),y=s(8283),d=s(4302);const l=["type"];const h=({appId:e,broadcastChannel:t=i})=>{!function({broadcastChannel:e=i}){let t=!1;const s=(({broadcastChannel:e})=>({postMessage:t=>{const{type:s}=t,a=(0,y.Z)(t,l);d.VSCodeCommunicationsService.postMessageToExtension({type:e,payload:(0,o.Z)({eventType:s},a)})},subscribe:(e=i,t)=>{d.VSCodeCommunicationsService.subscribe(e,t)}}))({broadcastChannel:e});s.subscribe(e,(e=>{null!=e&&e.eventType&&(t=!0,(()=>{switch(e.eventType){case"query-client-updated":return(({queryHash:e,queryKey:t,state:s})=>{const a=r.getQueryCache(),u=a.get(e);u?u.setState(s):a.build(r,{queryKey:t,queryHash:e},s)})(e);case"query-client-removed":return(({queryHash:e})=>{const t=r.getQueryCache(),s=t.get(e);s&&t.remove(s)})(e);case"query-cache-invalidated":(({filters:e,options:t={}})=>{r.invalidateQueries(e,t)})(e)}})(),t=!1)})),r.getQueryCache().subscribe((e=>{if(t)return;const{query:{queryHash:a,queryKey:r,state:u},type:n,action:c}=e;"updated"===n&&"success"===c.type&&s.postMessage({type:"query-client-updated",queryHash:a,queryKey:r,state:u}),"removed"===n&&s.postMessage({type:"query-client-removed",queryHash:a,queryKey:r,state:u})}))}({appId:e,broadcastChannel:t})},p=({key:e,updater:t})=>{r.setQueryData(e,t)},C=e=>{r.invalidateQueries({queryKey:e,exact:!0})},v=()=>{var e;return null!=(e=(0,a.useQueryClient)())?e:r}}}]);
//# sourceMappingURL=1685.912c4da4b929b137.js.map