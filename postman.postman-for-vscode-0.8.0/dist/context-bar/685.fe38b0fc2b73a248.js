"use strict";(self.webpackChunkcontext_bar=self.webpackChunkcontext_bar||[]).push([[685],{8283:(e,t,r)=>{function a(e,t){if(null==e)return{};var r,a,s={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(s[r]=e[r]);return s}r.d(t,{Z:()=>a})},8013:(e,t,r)=>{r.r(t),r.d(t,{CacheObserver:()=>a.QueryObserver,DataFetchCacheProvider:()=>c,MultiCacheObserver:()=>a.QueriesObserver,cacheClient:()=>s,invalidateCache:()=>C,setupCacheBroadcasts:()=>h,updateCache:()=>p,useCacheClient:()=>v,useDataFetch:()=>a.useQuery,useInfiniteDataFetch:()=>a.useInfiniteQuery,useMutation:()=>a.useMutation});var a=r(4527);const s=new a.QueryClient({defaultOptions:{queries:{staleTime:Number.POSITIVE_INFINITY,useErrorBoundary:!0,retry:!1,refetchOnWindowFocus:!1}}});r(540);var n=r(2600),u=r(2322);const c=({children:e})=>(0,u.jsxs)(a.QueryClientProvider,{client:s,children:[e,(0,u.jsx)(n.ReactQueryDevtools,{initialIsOpen:!1})]}),i="SYNC_CLIENT_CACHE";var o=r(7560),y=r(8283),l=r(4302);const d=["type"];const h=({appId:e,broadcastChannel:t=i})=>{!function({broadcastChannel:e=i}){let t=!1;const r=(({broadcastChannel:e})=>({postMessage:t=>{const{type:r}=t,a=(0,y.Z)(t,d);l.VSCodeCommunicationsService.postMessageToExtension({type:e,payload:(0,o.Z)({eventType:r},a)})},subscribe:(e=i,t)=>{l.VSCodeCommunicationsService.subscribe(e,t)}}))({broadcastChannel:e});r.subscribe(e,(e=>{null!=e&&e.eventType&&(t=!0,(()=>{switch(e.eventType){case"query-client-updated":return(({queryHash:e,queryKey:t,state:r})=>{const a=s.getQueryCache(),n=a.get(e);n?n.setState(r):a.build(s,{queryKey:t,queryHash:e},r)})(e);case"query-client-removed":return(({queryHash:e})=>{const t=s.getQueryCache(),r=t.get(e);r&&t.remove(r)})(e);case"query-cache-invalidated":(({filters:e,options:t={}})=>{s.invalidateQueries(e,t)})(e)}})(),t=!1)})),s.getQueryCache().subscribe((e=>{if(t)return;const{query:{queryHash:a,queryKey:s,state:n},type:u,action:c}=e;"updated"===u&&"success"===c.type&&r.postMessage({type:"query-client-updated",queryHash:a,queryKey:s,state:n}),"removed"===u&&r.postMessage({type:"query-client-removed",queryHash:a,queryKey:s,state:n})}))}({appId:e,broadcastChannel:t})},p=({key:e,updater:t})=>{s.setQueryData(e,t)},C=e=>{s.invalidateQueries({queryKey:e,exact:!0})},v=()=>{var e;return null!=(e=(0,a.useQueryClient)())?e:s}}}]);
//# sourceMappingURL=685.fe38b0fc2b73a248.js.map